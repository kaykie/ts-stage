(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{347:function(e,t,a){},350:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},365:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n,r,c,o,i,l,s,m=a(12),p=a(19),d=a(47),u=a(46),h=a(48),f=a(0),b=a.n(f),g=a(7),E=a.n(g),_=(a(347),function(e){return b.a.createElement("div",{className:E()("mf-orgdrawer",{show:e.visible})},b.a.createElement("div",{className:"mf-orgdrawer__content"},b.a.createElement("a",{className:"mf-orgdrawer__collapse",onClick:e.onCollapse},b.a.createElement("i",{className:"iconfont iconxiangzuo"}),"\u6536\u8d77"),b.a.createElement("h3",{className:"mf-orgdrawer__title"},"\u4f01\u4e1a\u67b6\u6784")),e.children,b.a.createElement("a",{className:E()("mf-orgdrawer__expand",{show:!e.visible}),onClick:e.onExpand}))}),v=a(424),O=(a(348),a(421)),j=a(102),N=(a(350),O.a.TreeNode),y=O.a.DirectoryTree,w=Object(j.b)("organizeStore")(n=Object(j.c)(n=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).renderTreeNodes=function(e){return e.map(function(e){return e.children?b.a.createElement(N,{title:e.title,key:e.key,dataRef:e,icon:null},a.renderTreeNodes(e.children)):b.a.createElement(N,Object.assign({},e,{dataRef:e,key:e.key}))})},a.onLoadData=function(e){return new Promise(function(t){e.props.children?t():setTimeout(function(){console.log(e.props.eventKey),e.props.dataRef.children=[{title:"\u6d4b\u8bd5",key:"".concat(e.props.eventKey,"-0")},{title:"\u6d4b\u8bd5",key:"".concat(e.props.eventKey,"-1")}],a.setState({treeData:Object(v.a)(a.state.treeData)}),t()},1e3)})},a.onSelect=function(){console.log("onselect")},a.onExpand=function(){console.log("onExpand")},a.state={treeData:[{title:"\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5\u8fd9\u91cc\u662f\u6d4b\u8bd5",key:"0"}]},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.organizeStore.getOrgTree)({})}},{key:"render",value:function(){this.state.treeData;return b.a.createElement("div",{className:"mf-tree",style:{minHeight:this.props.minHeight?"".concat(this.props.minHeight,"px"):"inherit"}},b.a.createElement(y,{loadData:this.onLoadData,onSelect:this.onSelect,onExpand:this.onExpand,expandAction:!1,defaultSelectedKeys:["0"],defaultExpandedKeys:["0"]},this.renderTreeNodes(this.state.treeData)))}}]),t}(b.a.Component))||n)||n,k=a(273),C=a(420),z=Object(k.a)(C.a)(r=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return b.a.createElement("div",{className:"mf-child-department__content"},this.props.children)}}]),t}(b.a.Component))||r,S={beginDrag:function(e){return console.log("\u5f00\u59cb\u62d6\u62fd"),{name:e.name}}},D=Object(k.c)("departmentChildItem",{drop:function(e,t){var a=t.getItem().name,n=e.name;a!==n&&e.dragEndCallback(a,n)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}})(c=Object(k.b)("departmentChildItem",S,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(c=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.isDragging,e.connectDragSource),a=e.connectDropTarget;this.props.name;return t(a(b.a.createElement("div",{className:"mf-child-department__content__item"},b.a.createElement("span",null,this.props.name),b.a.createElement("span",null,"(",this.props.num,")"))))}}]),t}(b.a.Component))||c)||c,x=a(38),T=(a(359),Object(j.b)("organizeStore")(o=Object(j.c)(o=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).dragEndCallback=function(e,t){(0,a.props.organizeStore.sortChildDepartmentList)(e,t)},a.addChildDepartment=function(){var e=a.props,t=e.history;e.match;t.push("".concat(t.location.pathname,"/add"))},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.organizeStore.childDepartmentList;return b.a.createElement("div",{className:"mf-child-department"},b.a.createElement("div",{className:"mf-child-department__title"},b.a.createElement("a",{className:"mf-child-department__title__name"},"\u4e0b\u7ea7\u90e8\u95e8",b.a.createElement("span",null,"20")),b.a.createElement("a",{className:"mf-child-department__add",onClick:this.addChildDepartment},b.a.createElement("i",{className:"iconfont iconjia"}),b.a.createElement("span",null,"\u6dfb\u52a0\u5b50\u90e8\u95e8")),b.a.createElement("a",{className:"mf-child-department__sort"},b.a.createElement("i",{className:"iconfont iconpaixu"}),b.a.createElement("span",null,"\u90e8\u95e8\u6392\u5e8f"))),b.a.createElement(z,null,t.map(function(t,a){return b.a.createElement(D,{key:t.id,name:t.name,num:t.num,dragEndCallback:e.dragEndCallback})})))}}]),t}(b.a.Component))||o)||o),I=Object(x.f)(T),V=(a(219),a(220)),M=(a(242),a(10)),K=(a(360),Object(j.b)("organizeStore")(i=Object(j.c)(i=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).editOrganize=function(e){a.props.history.replace("/organize/".concat(e,"/edit"))},a.state={paramsId:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,a=(e.match,t.location.pathname.match(/organize\/(.*)/));console.log(t.location.pathname,a);var n="";a&&(n=a[1]),console.log(n),n&&"add"!==n&&this.setState({paramsId:n})}},{key:"render",value:function(){var e=this,t=this.state.paramsId;return b.a.createElement("div",{className:"mf-department-header"},b.a.createElement("h3",{className:"mf-department-header__title"},"\u676d\u5dde\u6d77\u5eb7\u5a01\u89c6\u6570\u5b57\u6280\u672f\u80a1\u4efd\u6709\u9650\u516c\u53f8",t?b.a.createElement("a",{href:"javascript: void(0)",onClick:function(){e.editOrganize(t)},className:"mf-department-header__edit"},b.a.createElement("i",{className:"iconfont iconbianji"})):b.a.createElement("span",{className:"mf-department-header__title__review"},b.a.createElement("i",{className:"iconfont iconrenyuanshenhe"}),"\u4eba\u5458\u5ba1\u6838")),b.a.createElement("div",{className:"mf-department-header__search"},b.a.createElement("div",{className:"mf-department-header__search__xx"},"\u4e1c\u6d77\u9f99\u5bab\u96c6\u56e2"),b.a.createElement("div",{className:"mf-department-header__search__wrap"},b.a.createElement(V.a,{type:"text",suffix:b.a.createElement(M.a,{type:"search"}),placeholder:"\u8f93\u5165\u59d3\u540d\u3001\u7535\u8bdd\u53f7\u7801\u3001\u90e8\u95e8\u540d\u79f0\u8fdb\u884c\u641c\u7d22"}))))}}]),t}(b.a.Component))||i)||i),L=Object(x.f)(K),R=(a(422),a(419)),W=[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u7535\u8bdd",dataIndex:"phone",key:"phone"},{title:"\u804c\u4f4d",dataIndex:"post",key:"post"}],H={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},onSelect:function(e,t,a){console.log(e,t,a)},onSelectAll:function(e,t,a){console.log(e,t,a)}},A=(a(365),Object(j.b)("organizeStore")(l=Object(j.c)(l=function(e){function t(e){return Object(m.a)(this,t),Object(d.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.organizeStore.departmentMemberList}},{key:"render",value:function(){var e=this.props.organizeStore.departmentMemberList;return b.a.createElement("div",{className:"mf-department-member"},b.a.createElement("div",{className:"mf-department-member__title"},b.a.createElement("a",{className:"mf-department-member__title__name"},"\u90e8\u95e8\u4eba\u5458",b.a.createElement("span",null,"20")),b.a.createElement("a",{className:"mf-department-member__add"},b.a.createElement("i",{className:"iconfont iconjia"}),b.a.createElement("span",null,"\u6dfb\u52a0\u6210\u5458")),b.a.createElement("a",{className:"mf-department-member__sort"},b.a.createElement("i",{className:"iconfont iconpaixu"}),b.a.createElement("span",null,"\u6210\u5458\u6392\u5e8f")),b.a.createElement("a",{className:"mf-department-member__add"},b.a.createElement("i",{className:"iconfont iconjia"}),b.a.createElement("span",null,"\u8c03\u6574\u90e8\u95e8")),b.a.createElement("a",{className:"mf-department-member__sort"},b.a.createElement("i",{className:"iconfont iconpaixu"}),b.a.createElement("span",null,"\u6279\u91cf\u5220\u9664"))),b.a.createElement(R.a,{columns:W,rowSelection:H,dataSource:e.slice(),rowKey:"phone"}))}}]),t}(b.a.Component))||l)||l),J=(a(409),a(423)),P=(a(133),a(109)),q=(a(101),a(28)),B=(a(223),a(222)),F=(a(411),{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}),G={wrapperCol:{xs:{span:24,offet:0},sm:{span:20,offset:4}}},Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).onCloseDrawer=function(){var e=a.props,t=e.history,n=e.match;n.url;console.log(n),a.setState({visible:!1},function(){t.go(-1)})},a.showOrgTree=function(){a.setState({orgTreeVisible:!0})},a.cancelTreeVisibleCb=function(){a.setState({orgTreeVisible:!1})},a.state={visible:!0,orgTreeVisible:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){console.log(this.props.match)}},{key:"render",value:function(){return b.a.createElement(J.a,{title:"",visible:this.state.visible,onClose:this.onCloseDrawer,width:572},b.a.createElement("div",{className:"edit-organize"},b.a.createElement("h3",{className:"edit-organize__title"},"\u90e8\u95e8\u4fe1\u606f"),b.a.createElement(B.a,{labelAlign:"left",className:"edit-organize__form"},b.a.createElement(B.a.Item,Object.assign({},F,{label:"\u90e8\u95e8\u540d\u79f0"}),b.a.createElement(V.a,{type:"text",placeholder:"\u8bf7\u9009\u62e9\u4f01\u4e1a\u7c7b\u578b",size:"large"})),b.a.createElement(B.a.Item,Object.assign({},F,{label:"\u4e0a\u7ea7\u90e8\u95e8"}),b.a.createElement("div",{className:"edit-organize__form__upperorg",onClick:this.showOrgTree},b.a.createElement("div",{className:"edit-organize__upperorg__left"},b.a.createElement("span",null,"\u5ba2\u6237\u7aef\u5f00\u53d1\u7ec4")),b.a.createElement("div",{className:"edit-organize__upperorg__right"},b.a.createElement("i",{className:"iconfont iconicon-test"})))),b.a.createElement(B.a.Item,G,b.a.createElement("div",{className:"edit-organize__form__operate"},b.a.createElement(q.a,{type:"primary",size:"large",className:"btn--width"},"\u4fdd\u5b58"),b.a.createElement(q.a,{className:"btn--width",size:"large",onClick:this.onCloseDrawer},"\u53d6\u6d88"))))),b.a.createElement(P.a,{visible:this.state.orgTreeVisible,onCancel:this.cancelTreeVisibleCb,footer:null,bodyStyle:{padding:"40px"},title:"\u9009\u62e9\u90e8\u95e8",className:"eidt-organize-modal__mftree"},b.a.createElement("div",{className:"eidt-organize-modal__mftree__container"},b.a.createElement(w,{minHeight:400})),b.a.createElement("div",{className:"eidt-organize-modal__mftree__status"},b.a.createElement("div",{className:"eidt-organize-modal__status"},b.a.createElement("span",null,"\u5df2\u9009\uff1a"),b.a.createElement("span",null,"\u751f\u6001\u4e1a\u52a1\u90e8")),b.a.createElement(q.a,{type:"primary",size:"large",className:"btn--width"},"\u786e\u5b9a"))))}}]),t}(b.a.Component),U=(a(412),Object(j.b)("organizeStore")(s=Object(j.c)(s=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).mforgdrawerCollapse=function(){a.setState({orgdrawerVisible:!1})},a.mforgdrawerExpand=function(){a.setState({orgdrawerVisible:!0})},a.state={orgdrawerVisible:!0,treeData:{}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.organizeStore.organizeList;console.log("".concat(this.props.match.path,"/edit"))}},{key:"render",value:function(){return b.a.createElement("div",{className:"mf-orgpage"},b.a.createElement(_,{visible:this.state.orgdrawerVisible,onCollapse:this.mforgdrawerCollapse,onExpand:this.mforgdrawerExpand},b.a.createElement(w,null)),b.a.createElement("div",{className:"mf-orgpage__content"},b.a.createElement(L,null),b.a.createElement(I,null),b.a.createElement(A,null),b.a.createElement(x.c,null,b.a.createElement(x.a,{path:"".concat(this.props.match.path,"/:id/edit"),component:Q}),b.a.createElement(x.a,{path:"".concat(this.props.match.path,"/:id/add"),component:Q}),b.a.createElement(x.a,{path:"".concat(this.props.match.path,"/add"),component:Q}))))}}]),t}(b.a.Component))||s)||s);t.default=U}}]);
//# sourceMappingURL=8.551ee1e2.chunk.js.map