{"version":3,"sources":["api/utils.ts","serviceWorker.ts","components/MfHeader/index.tsx","components/MfMenu/config.tsx","components/EnterpriseInfo/index.tsx","components/MfMenu/index.tsx","Router.tsx","store/index.ts","store/organize.ts","index.tsx","api/config.ts","api/provider/SingleLoginProvider.ts","api/net.ts","api/provider/TestProvider.ts","api/provider/OrganizeProvider.ts","api/provider/index.ts"],"names":["HttpError","errorObj","Object","E_work_2_0_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","customCode","httpCode","message","data","handleError","_callee","e","msg","E_work_2_0_2_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","abrupt","keys","config","specialErrorCode","find","code","Number","errorCode","Promise","reject","TypeError","indexOf","stop","parseResponse","_callee2","res","result","_context2","status","singleLoginProvider","gotoLogin","String","json","sent","handleHttpError","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","MfHeader","props","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","react_default","createElement","className","React","Component","menuConfig","icon","title","route","subMenu","EnterpriseInfo","modal","visible","width","src","alt","MfMenu","_this","renderCorpInfo","menu","Item","key","href","changeMenuItem","index","history","menuActiveItem","setState","submenuActiveItem","menuActiveItemSubMenuRoute","menuConfigItemRoute","menuActiveItemSubMenu","push","changeSubMenuItem","renderMenu","map","element","concat","onClick","length","renderSubmenu","subMenuEle","subMenuIndex","routeUrl","pathname","menuActiveItemIndex","submenuActiveItemIndex","forEach","submenuItem","submenuIndex","src_components_EnterpriseInfo","dropdown","overlay","withRouter","OtherPage","lazy","__webpack_require__","bind","HomePage","CertEnterprise","all","CertBusiness","CertGovernment","CertOther","OrganizePage","Enterprise","RealAuth","Dissolve","HasMenuChildRouter","src_components_MfMenu","react_router","path","component","store","organizeStore","observable","0","name","phone","post","id","num","action","flow","regenerator_default","mark","t0","source","target","sourceIndex","targetIndex","temp","childDepartmentList","findIndex","_callee3","_context3","organizeProvider","getOrgTree","moment","locale","ReactDOM","render","index_module","moxStore","react_router_dom","react","fallback","MfHeader_MfHeader","exact","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker","__webpack_exports__","whiteURLList","10002","imageUploadUrl","SingleLoginProvider","Cookie","url","Cache-Control","Content-Type","getDisconf","disconf","_config","clientId","openauth_appkey","body","qs","stringify","objectSpread","credentials","method","sessionAuthCode","Error","ys7Code","ys7_code","grant_type","clientType","userType","JSON","token","_context4","sessionStorage","getItem","parse","setItem","_context5","localStorage","removeItem","noRedirect","removeEnterpriseStorage","net","isRefreshedToken","opts","enterprisePreHandle","handleTimeout","options","handerOpts","sessionGetCode","getSaasToken","logout","saveEnterpriseStorage","cacheTime","Date","getTime","Authorization","TestProvider","requst","OrganizeProvider","d","testProvider"],"mappings":"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","file":"static/js/main.39414abb.chunk.js","sourcesContent":["import { singleLoginProvider } from \"./provider/index\";\r\nimport config from \"./config\";\r\n\r\nclass HttpError {\r\n  public customCode?: Number;\r\n  public httpCode?: Number;\r\n  public message?: String;\r\n  public data?: any;\r\n\r\n  constructor(errorObj: {\r\n    customCode?: Number\r\n    message?: String,\r\n    httpCode?: Number,\r\n    data?: any,\r\n  }) {\r\n    this.customCode = errorObj.customCode;\r\n    this.message = errorObj.message;\r\n    this.httpCode = errorObj.httpCode;\r\n    this.data = errorObj.data;\r\n  }\r\n\r\n}\r\nasync function handleError(e: HttpError) {\r\n  let msg = \"\";\r\n  // if (config.errorCode.find(code => e.customCode)) {\r\n  //   return Promise.reject(e);\r\n  // }\r\n  if (!e.customCode) {\r\n    return;\r\n  }\r\n  if (Object.keys(config.specialErrorCode).find(code => Number(code) === e.customCode)) {\r\n    // 处理特殊的code\r\n  }\r\n  if (config.errorCode.find(code => code === e.customCode)) {\r\n    return Promise.reject(e);\r\n  }\r\n\r\n  if (\r\n    (e instanceof TypeError) ||\r\n    (e.message && e.message.indexOf('fetch') > -1)\r\n  ) {\r\n    msg = '网络错误或服务异常, 请稍后再试';\r\n  }\r\n\r\n  return Promise.reject({\r\n    message: msg || e.message || '服务异常'\r\n  });\r\n}\r\nasync function parseResponse(res: Response) {\r\n  if (res.status === 401) {\r\n    singleLoginProvider.gotoLogin();\r\n    throw new HttpError({\r\n      httpCode: 401\r\n    });\r\n  }\r\n  if (res.status === 404) {\r\n    throw new HttpError({\r\n      httpCode: 404,\r\n      message: '服务异常或网络错误'\r\n    });\r\n  }\r\n  if (String(res.status).indexOf('50') > -1) {\r\n    throw new HttpError({\r\n      httpCode: res.status,\r\n      message: '服务异常或网络错误'\r\n    });\r\n  }\r\n  const result = await res.json();\r\n  if (result.code !== \"200\") {\r\n    throw new HttpError({\r\n      httpCode: 200,\r\n      customCode: result.code,\r\n      message: result.msg,\r\n      data: result.data\r\n    });\r\n  }\r\n  return result;\r\n}\r\nfunction handleHttpError(e: any) {\r\n\r\n}\r\nexport { handleError, HttpError, handleHttpError, parseResponse }\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport \"./index.less\";\r\ninterface MfHeaderProps {\r\n\r\n}\r\nexport default class MfHeader extends React.Component<MfHeaderProps, any> {\r\n  constructor(props: MfHeaderProps) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mf-header\">\r\n        <div className=\"mf-header__title\">\r\n          企业萤石云管理系统\r\n        </div>\r\n        <div className=\"mf-header__info\">\r\n          <i className=\"iconfont icontuichu\" />\r\n          <span>退出登录</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { configConsumerProps } from \"antd/lib/config-provider\";\r\n\r\nexport interface MenuItem {\r\n  icon?: string,\r\n  title: string,\r\n  subMenu?: MenuItem[],\r\n  route?: string,\r\n}\r\nconst menuConfig: MenuItem[] = [\r\n  {\r\n    icon: \"icongongzuotai\",\r\n    title: \"工作台\",\r\n    route: \"/home\",\r\n  },\r\n  {\r\n    icon: \"iconicon-test\",\r\n    title: \"组织管理\",\r\n    route: \"/organize\",\r\n  },\r\n  {\r\n    icon: \"iconshezhi\",\r\n    title: \"企业设置\",\r\n    subMenu: [\r\n      {\r\n        title: \"编辑企业信息\",\r\n        route: \"/settings/info\",\r\n      },\r\n      {\r\n        title: \"企业认证\",\r\n        route: \"/settings/certification/business\",\r\n      },\r\n      {\r\n        title: \"设置子管理员\",\r\n        route: \"/settings/childadmin\",\r\n      },\r\n      {\r\n        title: \"解散企业\",\r\n        route: \"/settings/dissolve\",\r\n      },\r\n      {\r\n        title: \"操作记录\",\r\n        route: \"/settings/dissolve\",\r\n      },\r\n    ],\r\n  },\r\n];\r\nexport default menuConfig;\r\n","import React from \"react\";\r\nimport { Modal } from \"antd\";\r\nimport \"./index.less\";\r\n\r\nclass EnterpriseInfo extends React.Component<{}, any> {\r\n  public render() {\r\n    return (\r\n    <Modal\r\n      visible={false}\r\n      className=\"mf-dialog\"\r\n      width={600}\r\n    >\r\n      <div className=\"mf-enterprise\">\r\n        <div className=\"mf-enterprise__header\">\r\n          <div className=\"mf-enterprise__header__logo\"><img src=\"\" alt=\"\"/></div>\r\n          {/* <> */}\r\n          <div className=\"mf-enterprise__header__title\">杭州海康威视数字技术股份有限公司</div>\r\n        </div>\r\n      </div>\r\n    </Modal>);\r\n  }\r\n};\r\n\r\nexport default EnterpriseInfo;\r\n","import React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { Menu, Dropdown } from \"antd\";\r\nimport menuConfig, { MenuItem } from \"./config\";\r\nimport EnterpriseInfo from \"../EnterpriseInfo/index\";\r\nimport \"./index.less\";\r\n\r\ninterface MfMenuProps extends RouteComponentProps<any> {\r\n\r\n};\r\nclass MfMenu extends React.Component<MfMenuProps, any> {\r\n  constructor(props: MfMenuProps) {\r\n    super(props);\r\n    this.state = {\r\n      menuActiveItem: 0,\r\n      submenuActiveItem: 0,\r\n    }\r\n  }\r\n  componentWillMount() {\r\n    const { history } = this.props;\r\n    const routeUrl = history.location.pathname;\r\n    let menuActiveItemIndex = 0;\r\n    let submenuActiveItemIndex = 0;\r\n    menuConfig.forEach((element: MenuItem, index) => {\r\n      if (\r\n        element.route &&\r\n        routeUrl.indexOf(element.route) > -1\r\n      ) {\r\n        menuActiveItemIndex = index;\r\n        return;\r\n      }\r\n      if (element.subMenu) {\r\n        element.subMenu.forEach((submenuItem: MenuItem, submenuIndex) => {\r\n          console.log(submenuItem.route);\r\n          if (\r\n            submenuItem.route &&\r\n            routeUrl.indexOf(submenuItem.route) > -1\r\n          ) {\r\n            submenuActiveItemIndex = submenuIndex;\r\n            menuActiveItemIndex = index;\r\n          }\r\n        });\r\n      }\r\n    })\r\n    this.setState({\r\n      menuActiveItem: menuActiveItemIndex,\r\n      submenuActiveItem: submenuActiveItemIndex,\r\n    })\r\n  }\r\n  componentDidMount() {\r\n  }\r\n  renderCorpInfo = () => {\r\n    return (\r\n      <Menu>\r\n        <Menu.Item key=\"0\">\r\n          <a href=\"javascript: void(0)\">杭州海康威视数字技术有限公司</a>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"1\">\r\n          <a href=\"javascript: void(0)\">杭州萤石网络有限公司</a>\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  }\r\n  changeMenuItem = (index: number) => {\r\n    const history = this.props.history;\r\n    if (this.state.menuActiveItem === index) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      menuActiveItem: index,\r\n      submenuActiveItem: 0,\r\n    }, () => {\r\n      const menuConfigItemRoute = menuConfig[index].route;\r\n      const menuActiveItemSubMenu = menuConfig[this.state.menuActiveItem].subMenu;\r\n      let menuActiveItemSubMenuRoute;\r\n      if (menuActiveItemSubMenu) {\r\n        menuActiveItemSubMenuRoute = menuActiveItemSubMenu[0].route;\r\n      }\r\n      if (menuConfigItemRoute) {\r\n        history.push(menuConfigItemRoute);\r\n      } else if (\r\n        menuActiveItemSubMenu &&\r\n        menuActiveItemSubMenuRoute\r\n      ) {\r\n        history.push(menuActiveItemSubMenuRoute);\r\n      }\r\n    })\r\n  }\r\n  changeSubMenuItem = (index: number) => {\r\n    const history = this.props.history;\r\n    this.setState({\r\n      submenuActiveItem: index,\r\n    }, () => {\r\n      const menuActiveItemSubMenu = menuConfig[this.state.menuActiveItem].subMenu;\r\n      let menuActiveItemSubMenuRoute;\r\n      if (menuActiveItemSubMenu) {\r\n        menuActiveItemSubMenuRoute = menuActiveItemSubMenu[index].route;\r\n      }\r\n      if (\r\n        menuActiveItemSubMenu &&\r\n        menuActiveItemSubMenuRoute\r\n      ) {\r\n        history.push(menuActiveItemSubMenuRoute);\r\n      }\r\n    });\r\n  }\r\n  renderMenu = () => {\r\n    const { menuActiveItem } = this.state;\r\n    const result = menuConfig.map((element: MenuItem, index: number) => {\r\n      return (\r\n        <li className=\"mf-menu__nav__item\" key={index}>\r\n          <a\r\n            className={`mf-menu__item__link ${menuActiveItem === index ? 'active' : ''}`}\r\n            onClick={() => this.changeMenuItem(index)}\r\n          >\r\n            <i className={`iconfont ${element.icon ? element.icon : ''}`} />\r\n            {element.title}\r\n            {\r\n              element.subMenu && element.subMenu.length ?\r\n                this.renderSubmenu(element.subMenu) : null\r\n            }\r\n          </a>\r\n        </li>)\r\n    })\r\n    return result;\r\n  }\r\n  renderSubmenu = (subMenu: MenuItem[]) => {\r\n    const { submenuActiveItem } = this.state;\r\n    return (\r\n      <ul className=\"mf-submenu__nav\">\r\n        {\r\n          subMenu.map((subMenuEle: MenuItem, subMenuIndex: number) => {\r\n            return (\r\n              <li\r\n                className=\"mf-submenu__nav__item\"\r\n                key={subMenuIndex}\r\n                onClick={() => this.changeSubMenuItem(subMenuIndex)}>\r\n                <p\r\n                  className={`mf-submenu__nav__item__link ${submenuActiveItem === subMenuIndex ? 'active' : ''}`}\r\n\r\n                >\r\n                  {subMenuEle.title}\r\n                </p>\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>)\r\n  }\r\n  render() {\r\n    const { menuActiveItem } = this.state\r\n    return (\r\n      <div className={`mf-menu${menuConfig[menuActiveItem].subMenu && (menuConfig[menuActiveItem].subMenu as MenuItem[]).length ? \" mf-menu--wider\" : ''}`}>\r\n        <div className=\"mf-menu__corpinfo\">\r\n          <img src=\"\" alt=\"\" className=\"mf-menu__corpinfo__logo\" />\r\n          <EnterpriseInfo />\r\n          <Dropdown overlay={this.renderCorpInfo()}>\r\n            <a href=\"javascript: void(0)\" className=\"mf-menu__dropdown__link\">\r\n              <span className=\"mf-menu__dropdown__title\">杭州海康威视数字技术有限公司</span>\r\n              <i className=\"iconfont iconxiangxia\" />\r\n            </a>\r\n          </Dropdown>\r\n        </div>\r\n        <ul className=\"mf-menu__nav\">\r\n          {\r\n            this.renderMenu()\r\n          }\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MfMenu);\r\n","import React, { Suspense } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport App from './pages/App';\r\nimport MfHeader from './components/MfHeader/index';\r\nimport MfMenu from './components/MfMenu/index';\r\n\r\nconst OtherPage = React.lazy(() => import('./pages/Other'));\r\nconst HomePage = React.lazy(() => import('./pages/Home'));\r\nconst CertEnterprise = React.lazy(() => import(\"./pages/Settings/Certification/Enterprise/index\"));\r\nconst CertBusiness = React.lazy(() => import(\"./pages/Settings/Certification/Business/index\"));\r\nconst CertGovernment = React.lazy(() => import(\"./pages/Settings/Certification/Government/index\"));\r\nconst CertOther = React.lazy(() => import(\"./pages/Settings/Certification/Other/index\"));\r\nconst OrganizePage = React.lazy(() => import('./pages/Organize'));\r\nconst Enterprise = React.lazy(() => import(\"./pages/Settings/info/index\"));\r\nconst RealAuth = React.lazy(() => import(\"./pages/Settings/RealAuth/index\"));\r\nconst Dissolve = React.lazy(() => import(\"./pages/Settings/Dissolve/index\"));\r\n\r\nconst HasMenuChildRouter: React.FC = () => {\r\n  return (\r\n    <div className=\"mf-content\">\r\n      <MfMenu />\r\n      <Switch>\r\n        <Route path=\"/other\" component={OtherPage} />\r\n        <Route path=\"/home\" component={HomePage} />\r\n        <Route path=\"/settings/certification/enterprise\" component={CertEnterprise} />\r\n        <Route path=\"/settings/certification/business\" component={CertBusiness} />\r\n        <Route path=\"/settings/certification/government\" component={CertGovernment} />\r\n        <Route path=\"/settings/certification/other\" component={CertOther} />\r\n        <Route path=\"/settings/info\" component={Enterprise} />\r\n        <Route path=\"/settings/dissolve\" component={Dissolve} />\r\n        <Route path=\"/settings/real\" component={RealAuth} />\r\n        {/* <Route path=\"/organize/:id\" component={OrganizePage} /> */}\r\n        <Route path=\"/organize\" component={OrganizePage} />\r\n        <Route path=\"/\" component={HomePage} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\nexport const AppRouter: React.FC = () => {\r\n  return (\r\n    <Router>\r\n      <Suspense fallback={<div>loading...</div>}>\r\n        <MfHeader />\r\n        <Switch>\r\n          <Route path=\"/test1\" exact render={() => <div>test1</div>} />\r\n          <Route path=\"/\" component={HasMenuChildRouter} />\r\n        </Switch>\r\n      </Suspense>\r\n    </Router>\r\n  );\r\n};\r\n","import OrganizeStore from './organize';\r\n\r\nconst organizeStore = new OrganizeStore();\r\n\r\nexport default {\r\n  organizeStore,\r\n}\r\n","import mobx, { observable, action, flow, runInAction } from 'mobx';\r\nimport { organizeProvider } from '../api/provider/index';\r\nimport { handleHttpError } from '../api/utils';\r\n\r\nexport default class OrganizeStore {\r\n  @observable organizeList = [{ \"0\": 1 }];\r\n  @observable departmentMemberList = [\r\n    { \"name\": \"小猫\", \"phone\": \"15855616985\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616981\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616982\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616983\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616984\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"158556169859\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616986\", \"post\": \"高管\" },\r\n    { \"name\": \"小猫\", \"phone\": \"15855616987\", \"post\": \"高管\" },\r\n  ];\r\n  @observable childDepartmentList = [\r\n    { id: \"child1\", name: \"部门1\", num: 1 },\r\n    { id: \"child2\", name: \"部门2\", num: 2 },\r\n    { id: \"child3\", name: \"部门3\", num: 3 },\r\n    { id: \"child4\", name: \"部门4\", num: 4 },\r\n    { id: \"child6\", name: \"部门5\", num: 5 },\r\n    { id: \"child7\", name: \"部门7\", num: 8 },\r\n    { id: \"child9\", name: \"部门9\", num: 9 },\r\n    { id: \"child10\", name: \"部门10\", num: 10 },\r\n    { id: \"child11\", name: \"部门11\", num: 11 },\r\n  ]\r\n  @action\r\n  getOrganizeList = flow(\r\n    function* (data: any): any {\r\n      try {\r\n\r\n      } catch (e) {\r\n        return handleHttpError(e);\r\n      }\r\n    }\r\n  )\r\n  @action\r\n  sortChildDepartmentList = flow(\r\n    function* (this: OrganizeStore, source: string, target: string) {\r\n      try {\r\n        const sourceIndex = this.childDepartmentList.findIndex((element: any) => {\r\n          return element.name === source;\r\n        });\r\n        const targetIndex = this.childDepartmentList.findIndex((element: any) => {\r\n          return element.name === target;\r\n        });\r\n        const temp = this.childDepartmentList[sourceIndex];\r\n        this.childDepartmentList[sourceIndex] = this.childDepartmentList[targetIndex];\r\n        this.childDepartmentList[targetIndex] = temp;\r\n      } catch (e) {\r\n        return handleHttpError(e);\r\n      }\r\n    }.bind(this)\r\n  )\r\n  @action\r\n  getOrgTree = flow(\r\n    function* (this: OrganizeStore, data: { parentId?: string, companyId?: string }) {\r\n      try {\r\n        const res = organizeProvider.getOrgTree(data);\r\n        return res;\r\n      } catch (e) {\r\n        return handleHttpError(e);\r\n      }\r\n    }.bind(this)\r\n  )\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\nimport * as serviceWorker from './serviceWorker';\nimport { AppRouter } from './Router';\nimport 'lib-flexible';\n// 由于 antd 组件的默认文案是英文，所以需要修改为中文\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport 'antd/dist/antd.css';\nimport { Provider } from 'mobx-react';\nimport moxStore from './store/index';\nimport \"../src/assets/css/common.less\";\n\nmoment.locale('zh-cn');\nReactDOM.render(<Provider {...moxStore}>\n  <AppRouter />\n</Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","const hostname = \"\";\r\n// const hostname = \"https://saastest1.ys7.com\"\r\n\r\nexport default {\r\n  whiteURLList: [],\r\n  errorCode: [],\r\n  specialErrorCode: {\r\n    \"10002\": {\r\n      message: \"accessToken 已过期，请重新登录后再试\",\r\n    }\r\n  },\r\n  imageUploadUrl: `${hostname}/api/user/auth/upload`,\r\n};\r\n","\r\nimport Cookie from 'js-cookie';\r\nimport { handleHttpError } from '../utils';\r\nimport qs from 'qs';\r\n\r\nconst location = window.location;\r\nclass SingleLoginProvider {\r\n  getNickName() {\r\n    return Cookie.get('ASG_DisplayName');\r\n  }\r\n\r\n  // isNeedLogin() {\r\n  //   return needLoginRoute.find(ele => {\r\n  //     return location.href.indexOf(ele) > -1;\r\n  //   });\r\n  // }\r\n\r\n  async isLogin() {\r\n    // try {\r\n    //   const ysCode = await loginProvider.sessionGetCode();\r\n    //   const token = await loginProvider\r\n    //     .codeGetToken({\r\n    //       ys7_code: ysCode\r\n    //     }).data.token;\r\n\r\n    //   this.saveEnterpriseStorage();\r\n    //   return true;\r\n    // } catch (e) {\r\n    //   if (Cookie.get('ASG_DisplayName')) {\r\n    //     await loginProvider.authLogout();\r\n    //   }\r\n    //   // location.href = `/login?redirect_uri=${location.href}`;\r\n    // }\r\n  }\r\n\r\n  async sessionGetCode() {\r\n    try {\r\n      const url = '/openauth/oauth/sessionId/code';\r\n      const headers = {\r\n        'Cache-Control': 'no-cache',\r\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n      };\r\n      const disconf = await this.getDisconf();\r\n      const _config = {\r\n        clientId: disconf.openauth_appkey\r\n      };\r\n      const res = await fetch(url, {\r\n        body: qs.stringify({\r\n          ..._config\r\n        }),\r\n        credentials: 'include',\r\n        headers,\r\n        method: 'post',\r\n      });\r\n      const result = await res.json();\r\n      return result.data.sessionAuthCode;\r\n    } catch (e) {\r\n      return handleHttpError(new Error('获取ys7_code出错'));\r\n    }\r\n  }\r\n\r\n  async logout() {\r\n    try {\r\n      const url = '/openauth/logout';\r\n      const headers = {\r\n        'Cache-Control': 'no-cache',\r\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\r\n      };\r\n      const disconf = await this.getDisconf();\r\n      const _config = {\r\n        clientId: disconf.openauth_appkey\r\n      };\r\n      const res = await fetch(url, {\r\n        body: qs.stringify({\r\n          ..._config\r\n        }),\r\n        credentials: 'include',\r\n        headers,\r\n        method: 'post',\r\n      });\r\n      const result = await res.json()\r\n      return result;\r\n    } catch (e) {\r\n      return handleHttpError(e)\r\n    }\r\n  }\r\n\r\n  async getSaasToken(ys7Code: string) {\r\n    try {\r\n      const url = \"/api/user/openauth/code/gettoken\";\r\n      const body = {\r\n        ys7_code: ys7Code,\r\n        grant_type: 2,\r\n        clientType: 1,\r\n      }\r\n      const res = await fetch(url, {\r\n        headers: {\r\n          userType: \"enterprise\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body),\r\n        method: 'post',\r\n      });\r\n      const result = await res.json();\r\n      return result.data.token;\r\n    } catch (e) {\r\n      return handleHttpError(e)\r\n    }\r\n  }\r\n\r\n  async getDisconf() {\r\n    try {\r\n      const disconf = sessionStorage.getItem('saas-disconf')\r\n      if (disconf) {\r\n        return JSON.parse(disconf);\r\n      } else {\r\n        const url = \"/api/user/front/web/config\";\r\n        const body = {\r\n          clientType: 1,\r\n        };\r\n        const res = await fetch(url, {\r\n          headers: {\r\n            userType: \"enterprise\",\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(body),\r\n          method: 'post',\r\n        });\r\n        const result = await res.json();\r\n        if (result && result.data) {\r\n          sessionStorage.setItem('saas-disconf', result.data);\r\n          return JSON.parse(result.data);\r\n        }\r\n      }\r\n    } catch (e) {\r\n      return handleHttpError(e)\r\n    }\r\n  }\r\n\r\n  removeEnterpriseStorage() {\r\n    localStorage.removeItem(\"timeStamp\");\r\n    localStorage.removeItem(\"token\");\r\n  }\r\n\r\n  saveEnterpriseStorage(token: string) {\r\n    localStorage.removeItem(\"timeStamp\");\r\n    localStorage.setItem(\"token\", token);\r\n  }\r\n\r\n  gotoLogin(noRedirect?: any) {\r\n    // this.removeEnterpriseStorage();\r\n    // let query = \"\";\r\n    // if (!noRedirect) {\r\n    //   query = `?redirect_uri=${location.href}`;\r\n    // }\r\n    // if (location.href.indexOf('y.ys7.com') > -1) {\r\n    //   location.href = `http://y.ys7.com:8300/login${query}`\r\n    // } else {\r\n    //   location.href = `/login${query}`;\r\n    // }\r\n  }\r\n\r\n  //\r\n  gotoChildLogin() {\r\n    this.removeEnterpriseStorage();\r\n    location.href = `${location.origin}/sub/login`;\r\n    // location.reload();\r\n  }\r\n}\r\n\r\nexport default SingleLoginProvider;\r\n","// import \"isomorphic-fetch\";\r\nimport Cookie from 'js-cookie';\r\nimport { singleLoginProvider } from \"./provider/index\";\r\n\r\nimport { handleError } from \"./utils\";\r\nimport config from \"./config\";\r\n\r\nclass HttpOpts {\r\n  public headers?: Object;\r\n  public body?: string;\r\n  public method?: string;\r\n}\r\n\r\nclass Net {\r\n  private isRefreshedToken: boolean = false;\r\n\r\n  public async requst(url: string, opts: HttpOpts): Promise<any> {\r\n    if (Cookie.get('ASG_DisplayName') && !this.isRefreshedToken) {\r\n      await this.enterprisePreHandle();\r\n    }\r\n    if (!Cookie.get('ASG_DisplayName') && !config.whiteURLList.find(element => url.indexOf(element) > -1)) {\r\n      singleLoginProvider.gotoLogin();\r\n    }\r\n    // 1个小时不操作退出登录\r\n    this.handleTimeout();\r\n    const options = this.handerOpts(opts);\r\n    return fetch('https://saastest3.ys7.com/' + url, options);\r\n  }\r\n\r\n  private async enterprisePreHandle() {\r\n    try {\r\n      const ys7Code = await singleLoginProvider.sessionGetCode();\r\n      const token = await singleLoginProvider.getSaasToken(ys7Code);\r\n      if (!token) {\r\n        await singleLoginProvider.logout()\r\n        singleLoginProvider.gotoLogin();\r\n      }\r\n      this.isRefreshedToken = true;\r\n      singleLoginProvider.saveEnterpriseStorage(token);\r\n    } catch (e) {\r\n      return handleError(e);\r\n    }\r\n  }\r\n  private handleTimeout() {\r\n    const cacheTime = localStorage.getItem('timeStamp');\r\n    if (cacheTime && new Date().getTime() - Number(cacheTime) > 60 * 60 * 1000) {\r\n      singleLoginProvider.gotoLogin();\r\n    }\r\n    localStorage.setItem('timeStamp', String(new Date().getTime()));\r\n  }\r\n  private handerOpts(opts: HttpOpts) {\r\n    const data: any = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"userType\": \"enterprise\",\r\n        \"Content-Type\": 'application/json;charset=UTF-8',\r\n        ...(opts.headers || {})\r\n      },\r\n      body: JSON.stringify({\r\n        clientType: 1,\r\n        ...(opts.body ? (typeof opts.body === 'string' ? JSON.parse(opts.body) : opts.body) : {})\r\n      })\r\n    };\r\n    delete opts.body;\r\n    delete opts.headers;\r\n    if (localStorage.getItem(\"token\")) {\r\n      data.headers.Authorization = \"Bearer \" + localStorage.getItem(\"token\")\r\n    }\r\n    return data\r\n  }\r\n}\r\n\r\nexport default new Net();\r\n","import net from \"../net\";\r\nimport { parseResponse } from \"../utils\";\r\n\r\nclass TestProvider {\r\n  async isAllowMultilogin() {\r\n    const url = \"/api/attendance/test2\";\r\n    const res = await net.requst(url, {\r\n      body: JSON.stringify({\r\n        clientType: 1,\r\n      })\r\n    });\r\n    return parseResponse(res);\r\n  }\r\n}\r\n\r\nexport default TestProvider;\r\n","import Cookie from 'js-cookie';\r\nimport { handleHttpError } from '../utils';\r\nimport qs from 'qs';\r\nimport net from \"../net\";\r\nexport default class OrganizeProvider {\r\n  async test() {\r\n    try {\r\n\r\n    } catch (e) {\r\n      return handleHttpError(e);\r\n    }\r\n  }\r\n  // 根据组织id获取当前层级组织树\r\n  async getOrgTree(data: { parentId?: string, companyId?: string }) {\r\n    try {\r\n      const url = \"/api/org/tree\";\r\n      const body = {\r\n        ...data,\r\n      };\r\n      const res = await net.requst(url, {\r\n        headers: {\r\n          userType: \"enterprise\",\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(body),\r\n        method: 'post',\r\n      });\r\n      const result = await res.json();\r\n      return result;\r\n    } catch (e) {\r\n      return handleHttpError(e);\r\n    }\r\n  }\r\n}\r\n","import SingleLoginProvider from \"./SingleLoginProvider\";\r\nimport TestProvider from \"./TestProvider\";\r\nimport OrganizeProvider from './OrganizeProvider';\r\n\r\nconst singleLoginProvider = new SingleLoginProvider();\r\nconst testProvider = new TestProvider();\r\nconst organizeProvider = new OrganizeProvider();\r\n\r\nexport {\r\n  singleLoginProvider,\r\n  testProvider,\r\n  organizeProvider\r\n}\r\n"],"sourceRoot":""}